<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Tests!</title>
</head>
<body>

<script>




    function TestOfgetQuestion() {
        fetch(`https://codecyprus.org/th/api/question?session=${sessionID}`)
            .then(response => response.json())
            .then(jsonObject => {
                console.log(jsonObject);
                if (jsonObject.status == 'OK') {
                    if (jsonObject.completed === false) {
                        questionTextElement.innerHTML = jsonObject.questionText;
                        qNoHeader.innerText = `Question ${(jsonObject.currentQuestionIndex + 1)}/${jsonObject.numOfQuestions}`;

                        switch (jsonObject.questionType) {

                            case "BOOLEAN":
                                boolAnswerBlock.style.display = "flex";
                                break;
                            case "INTEGER":
                                intAnswerBlock.style.display = "flex";
                                break;
                            case "NUMERIC":
                                numAnswerBlock.style.display = "flex";
                                break;
                            case "MCQ":
                                mcqAnswerBlock.style.display = "flex";
                                break;
                            case "TEXT":
                                textAnswerBlock.style.display = "flex";
                                break;

                        }
                        if (jsonObject.requiresLocation == true) {
                            console.log("attempting to send location");
                            get_location();
                        }
                        score();
                        update_scoreboard();

                        if (jsonObject.canBeSkipped == true) {
                            skipbutton.style.display = "flex";
                        } else {
                            skipbutton.style.display = "none";
                        }


                    } else {
                        questionTextElement.innerHTML = "<h1>Congratulations! You have finished the quiz!</h1>"
                        skipbutton.style.display = "none";
                    }
                } else {
                    session_ok=false;
                    console.log(jsonObject.errorMessages);
                    questionTextElement.innerHTML = "<h1>Sorry! An error has occurred!</h1>"
                    let goback = document.createElement("button");
                    goback.innerText = "Go Back";
                    goback.onclick = () => {
                        window.location.href = "app.html";
                        questionTextElement.removeChild(goback);
                    };
                    questionTextElement.appendChild(goback);

                }
            });
    }








</script>










User acceptance tests: After core functionality was implemented, the app was given to three individuals to test. A lenient time limit was set to complete the quiz.

Tester #1: A student of UCLAN familiar with computers and mobile devices.

The user encountered no bugs and concluded the quiz successfully with only minimal guidance (re: the at the time inaccessible location-based question).
Comments: The app "works, but it's clunky". The user specified that "it's kind of ugly" and "needs more work on styling".
Test Outcome: The app's styling was redesigned from the ground up with the user's comments in mind.

Tester #2: A younger relative of one of the team members. Some familiarity with smartphones and other mobile devices. Little familiarity with computers.

User encountered a 404 error when attempting to navigate from one page to another using the links at the top right side of the page. After a workaround (back button to the previous page) user was able to succesfully complete the quiz.
Comments: "If it's broken, I won't play it, nobody likes broken apps".
Test Outcome: The broken link was fixed and special care was taken to ensure navigating via the front-back buttons does not cause sequence breaks/unintended behavior.

Tester #3: An older relative of another of the team members. Minimal to no familiarity with smartphones and mobile devices, very little familiarity with computers.

User was unable to find the start button in the start page and navigated away from the app by accident clicking on the embedded twitter link. User expressed dissatisfaction and declined to continue testing. Quiz was not completed.
Comments: "I'm too busy to figure this out, next time just tell me what I'm supposed to do".
Test Outcome: The Start button was enlarged, placed in a more prominent spot, and a line instructing the user to press it was added to the landing page.





Evaluation of the app using Nielsen's 10 Usability Heuristics:


1: Visibility of System Status
    All buttons and links are clearly labeled to indicate their function. Alert messages are present indicating the current status of the app and informing the user about any potential errors that may appear.


2: Match Between the System and the Real World
 The app follows commonly accepted conventions  of similar quiz apps, such as using the standard A/B/C/D button format for multiple choice questions, and uses simple non-technical language in all of its prompts.


3: User Control and Freedom

The Skip Question button warns the user about the potential loss of score and allows the user to cancel their action if desired. The user can navigate to any page within the app at any point with no risk of losing progress.

4: Consistency and Standards
    Similar language and interface layout is being used as that of most similar quiz applications currently available, such as positioning important navigation links in the top right, keeping the content that requires user attention (textboxes and sundry input methods) in the center of the screen, displaying the scoreboard at the bottom et al.

5: Error Prevention
Multiple measures have been implemented to ensure action is taken to correct or mitigate any errors that may potentially occur (example: if the user attempts to respond to a quiz that has already expired, they are shown an error message and then redirected to the app page). For those errors that may not be easily solved without user input, explicit error messages explain the issue to the user and detail the actions needed to resolve it (example: activating location services to enable answering a location-based question).

6: Recognition Rather than Recall
All information needed for playing the treasure hunt quiz is shown on screen at all times, including current score, top 5 scoreboard, the currently asked question and the respective response interface (textbox, multiple choice buttons, etc). Navigation buttons for every other area of the app (including full scoreboard) are clearly labelled.

7: Flexibility and Efficiency of Use

The navigation menu enables the player to move from every area of the app to every other area at a touch.

8: Aesthetic and Minimalist Design
The layout of the quiz app has been carefully considered so that important elements are always centered on the user's screen and when possible highlighted.

9: Help Users Recognize, Diagnose, and Recover from Errors
All error messages presented are concise, detailed, and include a suggestion for how they might be resolved.

10: Help and Documentation
Error messages offer suggestions for how they might be resolved by the user.

</body>
</html>